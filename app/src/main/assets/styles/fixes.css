/* --- Custom Fixes & Overrides --- */

/*
 * Set a consistent size for all images within a wikitable.
 */
.wikitable img {
    width: 22px;
    height: 22px;
    object-fit: contain;
    display: inline-block;
    vertical-align: middle;
    margin: 0;
}

/*
 * Force size for <figure> elements inside wikitables.
 */
.wikitable figure.mw-default-size {
    width: 22px;
    height: 22px;
    margin: 0 auto;
}

/*
 * Fix for images inside list items (<li>) that were being
 * rendered as block elements, causing incorrect text wrapping.
 */
li img.mw-file-element {
    display: inline-block !important;
    vertical-align: middle !important;
    margin: 0 !important;
}

/*
 * REGRESSION FIX: Restore the horizontal alignment rule for figures
 * that have the .mw-halign-center class.
 */
figure.mw-halign-center {
    display: table;
    margin: 1em auto;
    border-collapse: collapse;
    clear: both;
    float: none;
}

/*
 * FIX: Horizontally align standalone framed images (e.g., Hitpoints cape emote)
 * that do not have the .mw-halign-center class.
 */
figure[typeof="mw:File/Frame"] {
    display: table;
    margin: 1em auto;
    border-collapse: collapse;
    clear: both;
    float: none;
}

/*
 * FIX: Target the image inside the framed figure specifically.
 * - Set width to 100% to match the caption width.
 * - Set margin to 0 to remove the vertical gap.
 */
figure[typeof="mw:File/Frame"] > a > img {
    width: 100%;
    margin: 0;
}

/*
 * Shared styling for all captions.
 */
figure > figcaption,
.thumbcaption {
    border: none;
    background-color: var(--colorsurfacevariant);
    padding: 4px 6px;
    box-sizing: border-box;
    text-align: left;
}

/*
 * Hide empty caption blocks to prevent rendering empty boxes.
 */
figcaption:empty {
    display: none;
}
