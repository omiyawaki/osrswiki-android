mw.loader.impl(function(){return["mediawiki.util@12pln",{"main":"util.js","files":{"util.js":function(require,module,exports){'use strict';let config=require('./config.json');const portletLinkOptions=require('./portletLinkOptions.json');const infinityValues=require('./infinityValues.json');require('./jquery.accessKeyLabel.js');function rawurlencode(str){return encodeURIComponent(String(str)).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/~/g,'%7E');}function escapeIdInternal(str,mode){str=String(str);switch(mode){case'html5':return str.replace(/ /g,'_');case'legacy':return rawurlencode(str.replace(/ /g,'_')).replace(/%3A/g,':').replace(/%/g,'.');default:throw new Error('Unrecognized ID escaping mode '+mode);}}const util={rawurlencode:rawurlencode,escapeIdForAttribute:function(str){return escapeIdInternal(str,config.FragmentMode[0]);},escapeIdForLink:function(str){return escapeIdInternal(str,config.FragmentMode[0]);},getTargetFromFragment:function(hash){hash=hash||location.hash.slice(1);if(!hash){return null;}const element=document.getElementById(hash);
if(element){return element;}const decodedHash=this.percentDecodeFragment(hash);if(!decodedHash){return null;}return document.getElementById(decodedHash);},percentDecodeFragment:function(text){const params=new URLSearchParams('q='+text.replace(/\+/g,'%2B').replace(/&/g,'%26').replace(/=/g,'%3D'));return params.get('q');},debounce:function(func,wait,immediate){if(typeof func==='number'){const tmpWait=wait;wait=func;func=tmpWait;}let timeout;return function(){const context=this,args=arguments,later=function(){timeout=null;if(!immediate){func.apply(context,args);}};if(immediate&&!timeout){func.apply(context,args);}if(!timeout||wait){clearTimeout(timeout);timeout=setTimeout(later,wait);}};},throttle:function(func,wait){let context,args,timeout,previous=Date.now()-wait;const run=function(){timeout=null;previous=Date.now();func.apply(context,args);};return function(){const remaining=Math.max(wait-(Date.now()-previous),0);context=this;args=arguments;if(!timeout){timeout=setTimeout(run,remaining);
}};},wikiUrlencode:mw.internalWikiUrlencode,getUrl:function(pageName,params){let url,query,fragment,title=typeof pageName==='string'?pageName:mw.config.get('wgPageName');const fragmentIdx=title.indexOf('#');if(fragmentIdx!==-1){fragment=title.slice(fragmentIdx+1);title=title.slice(0,fragmentIdx);}if(params){query=$.param(params);}if(!title&&fragment){url='';}else if(query){url=title?util.wikiScript()+'?title='+util.wikiUrlencode(title)+'&'+query:util.wikiScript()+'?'+query;}else{url=mw.config.get('wgArticlePath').replace('$1',()=>util.wikiUrlencode(title));}if(fragment){url+='#'+util.escapeIdForLink(fragment);}return url;},wikiScript:function(str){if(!str||str==='index'){return mw.config.get('wgScript');}else if(str==='load'){return config.LoadScript;}else{return mw.config.get('wgScriptPath')+'/'+str+'.php';}},addCSS:function(text){const s=mw.loader.addStyleTag(text);return s.sheet;},getParamValue:function(param,url){const re=new RegExp('^[^#]*[&?]'+util.escapeRegExp(param)+'=([^&#]*)'),
m=re.exec(url!==undefined?url:location.href);if(m){try{return decodeURIComponent(m[1].replace(/\+/g,'%20'));}catch(e){}}return null;},getArrayParam:function(param,params){const paramRe=new RegExp('^'+util.escapeRegExp(param)+'\\[(\\d*)\\]$');if(!params){params=new URLSearchParams(location.search);}const arr=[];params.forEach((v,k)=>{const paramMatch=k.match(paramRe);if(paramMatch){let i=paramMatch[1];if(i===''){i=arr.length;}arr[i]=v;}});return arr.length?arr:null;},$content:null,hidePortlet:function(portletId){const portlet=document.getElementById(portletId);if(portlet){portlet.classList.add('emptyPortlet');}},isPortletVisible:function(portletId){const portlet=document.getElementById(portletId);return portlet&&!portlet.classList.contains('emptyPortlet');},showPortlet:function(portletId){const portlet=document.getElementById(portletId);if(portlet){portlet.classList.remove('emptyPortlet');}},clearSubtitle:function(){const subtitle=document.getElementById('mw-content-subtitle');if(subtitle){
subtitle.innerHTML='';}},messageBox:function(textOrElement,type='notice',inline=false){const msgBoxElement=document.createElement('div');msgBoxElement.classList.add('cdx-message');if(['error','warning','success','notice'].indexOf(type)>-1){msgBoxElement.classList.add(`cdx-message--${type}`);}msgBoxElement.classList.add(inline?'cdx-message--inline':'cdx-message--block');msgBoxElement.setAttribute('aria-live','polite');const iconElement=document.createElement('span');iconElement.classList.add('cdx-message__icon');const contentElement=document.createElement('div');contentElement.classList.add('cdx-message__content');if(typeof textOrElement==='string'){contentElement.textContent=textOrElement;}else{contentElement.appendChild(textOrElement);}msgBoxElement.appendChild(iconElement);msgBoxElement.appendChild(contentElement);return msgBoxElement;},addSubtitle:function(nodeOrHTMLString){const subtitle=document.getElementById('mw-content-subtitle');if(subtitle){if(typeof nodeOrHTMLString==='string'){
subtitle.innerHTML+=nodeOrHTMLString;}else{subtitle.appendChild(nodeOrHTMLString);}}else{throw new Error('This skin does not support additions to the subtitle.');}},addPortlet:function(id,label,selectorHint){const portlet=document.createElement('div');portlet.classList.add('mw-portlet','mw-portlet-'+id,'emptyPortlet','mw-portlet-js');portlet.id=id;if(label){const labelNode=document.createElement('label');labelNode.textContent=label;portlet.appendChild(labelNode);}const listWrapper=document.createElement('div');const list=document.createElement('ul');listWrapper.appendChild(list);portlet.appendChild(listWrapper);if(selectorHint){let referenceNode;try{referenceNode=document.querySelector(selectorHint);}catch(e){}if(referenceNode){const parentNode=referenceNode.parentNode;parentNode.insertBefore(portlet,referenceNode);}else{return null;}}mw.hook('util.addPortlet').fire(portlet,selectorHint);return portlet;},addPortletLink:function(portletId,href,text,id,tooltip,accesskey,nextnode){if(!portletId){
return null;}const portlet=document.getElementById(portletId);if(!portlet){return null;}const link=document.createElement('a');link.href=href;let linkChild=document.createTextNode(text);let i=portletLinkOptions['text-wrapper'].length;while(i--){const wrapper=portletLinkOptions['text-wrapper'][i];const wrapperElement=document.createElement(wrapper.tag);if(wrapper.attributes){$(wrapperElement).attr(wrapper.attributes);}wrapperElement.appendChild(linkChild);linkChild=wrapperElement;}link.appendChild(linkChild);if(tooltip){link.title=tooltip;}if(accesskey){link.accessKey=accesskey;}util.showPortlet(portletId);const item=$('<li>').append(link)[0];item.className='mw-list-item mw-list-item-js';if(id){item.id=id;}let ul=portlet.tagName.toLowerCase()==='ul'?portlet:portlet.querySelector('ul');if(!ul){ul=document.createElement('ul');const portletDiv=portlet.querySelector('div');if(portletDiv){portletDiv.appendChild(ul);}else{portlet.appendChild(ul);}}let next;if(nextnode&&(typeof nextnode==='string'||nextnode.nodeType||nextnode.jquery)){
nextnode=$(ul).find(nextnode);if(nextnode.length===1&&nextnode[0].parentNode===ul){nextnode.before(item);next=true;}}if(!next){ul.appendChild(item);}if(accesskey){$(link).updateTooltipAccessKeys();}mw.hook('util.addPortletLink').fire(item,{id:id});return item;},validateEmail:function(email){if(email===''){return null;}const rfc5322Atext='a-z0-9!#$%&\'*+\\-/=?^_`{|}~';const rfc1034LdhStr='a-z0-9\\-';const html5EmailRegexp=new RegExp('^'+'['+rfc5322Atext+'\\.]+'+'@'+'['+rfc1034LdhStr+']+'+'(?:\\.['+rfc1034LdhStr+']+)*'+'$','i');return(email.match(html5EmailRegexp)!==null);},isIPv4Address:function(address,allowBlock){if(typeof address!=='string'){return false;}const RE_IP_BYTE='(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|0?[0-9]?[0-9])';const RE_IP_ADD='(?:'+RE_IP_BYTE+'\\.){3}'+RE_IP_BYTE;const block=allowBlock?'(?:\\/(?:3[0-2]|[12]?\\d))?':'';return(new RegExp('^'+RE_IP_ADD+block+'$').test(address));},isIPv6Address:function(address,allowBlock){if(typeof address!=='string'){return false;}const block=allowBlock?'(?:\\/(?:12[0-8]|1[01][0-9]|[1-9]?\\d))?':'';
let RE_IPV6_ADD='(?:'+':(?::|(?::'+'[0-9A-Fa-f]{1,4}'+'){1,7})'+'|'+'[0-9A-Fa-f]{1,4}'+'(?::'+'[0-9A-Fa-f]{1,4}'+'){0,6}::'+'|'+'[0-9A-Fa-f]{1,4}'+'(?::'+'[0-9A-Fa-f]{1,4}'+'){7}'+')';if(new RegExp('^'+RE_IPV6_ADD+block+'$').test(address)){return true;}RE_IPV6_ADD='[0-9A-Fa-f]{1,4}'+'(?:::?'+'[0-9A-Fa-f]{1,4}'+'){1,6}';return(new RegExp('^'+RE_IPV6_ADD+block+'$').test(address)&&/::/.test(address)&&!/::.*::/.test(address));},isIPAddress:function(address,allowBlock){return util.isIPv4Address(address,allowBlock)||util.isIPv6Address(address,allowBlock);},parseImageUrl:function(url){let name,decodedName,width,urlTemplate;if(/thumb\.php/.test(url)){decodedName=mw.util.getParamValue('f',url);name=encodeURIComponent(decodedName);width=mw.util.getParamValue('width',url)||mw.util.getParamValue('w',url);urlTemplate=url.replace(/([&?])w(?:idth)?=[^&]+/g,'')+'&width={width}';}else{const regexes=[/\/[\da-f]\/[\da-f]{2}\/([^\s/]+)\/(?:[^\s/]+-)?(\d+)px-(?:\1|thumbnail|[a-z\d]{31})(\.[^\s/]+)?$/,
/\/[\da-f]\/[\da-f]{2}\/([^\s/]+)$/,/\/([^\s/]+)\/(?:[^\s/]+-)?(\d+)px-(?:\1|thumbnail|[a-z\d]{31})[^\s/]*$/,/\/([^\s/]+)(?:\?[A-z\d]{5})$/];for(let i=0;i<regexes.length;i++){const match=url.match(regexes[i]);if(match){name=match[1];decodedName=decodeURIComponent(name);width=match[2]||null;break;}}}if(name){if(width!==null){width=parseInt(width,10)||null;}if(config.GenerateThumbnailOnParse){urlTemplate=mw.util.getUrl('Special:Redirect/file/'+decodedName,{width:'{width}'}).replace('%7Bwidth%7D','{width}');}else if(width&&!urlTemplate){const strippedUrl=url.replace(name,'{name}').replace(name,'{name}').replace(width+'px-','{width}px-');urlTemplate=strippedUrl.replace(/\{name\}/g,name);}return{name:decodedName.replace(/_/g,' '),width,resizeUrl:urlTemplate?function(w){return urlTemplate.replace('{width}',w);}:null};}return null;},escapeRegExp:function(str){return str.replace(/([\\{}()|.?*+\-^$\[\]])/g,'\\$1');},sanitizeIP:function(ip){if(typeof ip!=='string'){return null;}ip=ip.trim();if(ip===''){
return null;}if(!this.isIPAddress(ip,true)){return ip;}if(this.isIPv4Address(ip,true)){return ip.replace(/(^|\.)0+(\d)/g,'$1$2');}ip=ip.toUpperCase();const abbrevPos=ip.indexOf('::');if(abbrevPos!==-1){const CIDRStart=ip.indexOf('/');const addressEnd=(CIDRStart!==-1)?CIDRStart-1:ip.length-1;let repeatStr,extra,pad;if(abbrevPos===0){repeatStr='0:';extra=ip==='::'?'0':'';pad=9;}else if(abbrevPos===addressEnd-1){repeatStr=':0';extra='';pad=9;}else{repeatStr=':0';extra=':';pad=8;}const count=pad-(ip.split(':').length-1);ip=ip.replace('::',repeatStr.repeat(count)+extra);}return ip.replace(/(^|:)0+(([0-9A-Fa-f]{1,4}))/g,'$1$2');},prettifyIP:function(ip){ip=this.sanitizeIP(ip);if(ip===null){return null;}if(this.isIPv6Address(ip,true)){let cidr,replaceZeros;if(ip.indexOf('/')!==-1){const ipCidrSplit=ip.split('/',2);ip=ipCidrSplit[0];cidr=ipCidrSplit[1];}else{cidr='';}const matches=ip.match(/(?:^|:)0(?::0)+(?:$|:)/g);if(matches){replaceZeros=matches[0];for(let i=1;i<matches.length;i++){if(matches[i].length>replaceZeros.length){
replaceZeros=matches[i];}}}ip=ip.replace(replaceZeros,'::');if(cidr!==''){ip=ip.concat('/',cidr);}ip=ip.toLowerCase();}return ip;},isTemporaryUser:function(username){if(!config.AutoCreateTempUser.enabled&&!config.AutoCreateTempUser.known){return false;}if(username===null){return false;}let matchPatterns=config.AutoCreateTempUser.matchPattern;if(typeof matchPatterns==='string'){matchPatterns=[matchPatterns];}else if(matchPatterns===null){matchPatterns=[config.AutoCreateTempUser.genPattern];}for(let i=0;i<matchPatterns.length;i++){const autoCreateUserMatchPattern=matchPatterns[i];const position=autoCreateUserMatchPattern.indexOf('$1');if(position===-1){return false;}const prefix=autoCreateUserMatchPattern.slice(0,position);const suffix=autoCreateUserMatchPattern.slice(position+'$1'.length);let match=true;if(prefix!==''){match=(username.indexOf(prefix)===0);}if(match&&suffix!==''){match=(username.slice(-suffix.length)===suffix)&&(username.length>=prefix.length+suffix.length);}if(match){
return true;}}return false;},isInfinity:function(str){return infinityValues.indexOf(str)!==-1;}};function init(){const content=document.querySelector('.mw-body-primary')||document.querySelector('.mw-body')||document.querySelector('#mw-content-text')||document.body;util.$content=$(content);}mw.RegExp={};mw.log.deprecate(mw.RegExp,'escape',util.escapeRegExp,'Use mw.util.escapeRegExp() instead.','mw.RegExp.escape');if(window.QUnit){util.setOptionsForTest=function(opts){config=!opts?require('./config.json'):Object.assign({},config,opts);};util.init=init;}else{$(init);}mw.util=util;module.exports=util;
},"jquery.accessKeyLabel.js":function(require,module,exports){let testMode=false;let cachedModifiers;function getAccessKeyModifiers(nav){if(!nav&&cachedModifiers){return cachedModifiers;}const profile=$.client.profile(nav);let accessKeyModifiers;switch(profile.name){case'opera':case'chrome':if(profile.platform==='mac'){accessKeyModifiers='ctrl-option';}else{accessKeyModifiers='alt-shift';}break;case'firefox':case'iceweasel':if(profile.platform==='mac'){if(profile.versionNumber<14){accessKeyModifiers='ctrl';}else{accessKeyModifiers='ctrl-option';}}else{accessKeyModifiers='alt-shift';}break;case'safari':accessKeyModifiers='ctrl-option';break;case'msie':case'edge':accessKeyModifiers='alt';break;default:accessKeyModifiers=profile.platform==='mac'?'ctrl':'alt';break;}if(!nav){cachedModifiers=accessKeyModifiers;}return accessKeyModifiers;}function getAccessKeyLabel(element){if(!element.accessKey){return'';}if(!testMode&&element.accessKeyLabel){return element.accessKeyLabel;}return(testMode?'test':getAccessKeyModifiers())+'-'+element.accessKey;}function updateTooltipOnElement(element,titleElement){
const oldTitle=titleElement.title;if(!oldTitle){return;}const separatorMsg=mw.message('word-separator').plain();const parts=(separatorMsg+mw.message('brackets').plain()).split('$1');const regexp=new RegExp(parts.map(mw.util.escapeRegExp).join('.*?')+'$');let newTitle=oldTitle.replace(regexp,'');const accessKeyLabel=getAccessKeyLabel(element);if(accessKeyLabel){newTitle+=separatorMsg+mw.message('brackets',accessKeyLabel).plain();}if(oldTitle!==newTitle){titleElement.title=newTitle;}}const labelable='button, input, textarea, keygen, meter, output, progress, select';function updateTooltip(element){updateTooltipOnElement(element,element);const $element=$(element);if($element.is(labelable)){const id=element.id.replace(/"/g,'\\"');if(id){const $label=$('label[for="'+id+'"]');if($label.length===1){updateTooltipOnElement(element,$label[0]);}}const $labelParent=$element.parents('label');if($labelParent.length===1){updateTooltipOnElement(element,$labelParent[0]);}}}$.fn.updateTooltipAccessKeys=function(){
return this.each(function(){updateTooltip(this);});};$.fn.updateTooltipAccessKeys.getAccessKeyLabel=getAccessKeyLabel;$.fn.updateTooltipAccessKeys.getAccessKeyPrefix=function(nav){return getAccessKeyModifiers(nav)+'-';};$.fn.updateTooltipAccessKeys.setTestMode=function(mode){testMode=mode;};
},"config.json":{"FragmentMode":["html5"],"GenerateThumbnailOnParse":false,"LoadScript":"/load.php","AutoCreateTempUser":{"known":false,"enabled":false,"actions":["edit"],"genPattern":"~$1","matchPattern":null,"reservedPattern":"~$1","serialProvider":{"type":"local","useYear":true},"serialMapping":{"type":"plain-numeric"},"expireAfterDays":90,"notifyBeforeExpirationDays":10}},"portletLinkOptions.json":{"text-wrapper":[{"tag":"span"}]},"infinityValues.json":["infinite","indefinite","infinity","never"]}}];});
